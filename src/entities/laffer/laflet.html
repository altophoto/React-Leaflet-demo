<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet-src.js"></script>
    <script src="./leaflet.activearea.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="map" class="leaflet-container leaflet-fade-anim" tabindex="0">
        <div class="viewport"></div>
        <div class="leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);">
            <div class="leaflet-tile-pane">
                <div class="leaflet-layer">
                    <div class="leaflet-tile-container"></div>
                    <div class="leaflet-tile-container leaflet-zoom-animated">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://a.tile.osm.org/13/4148/2818.png" style="height: 256px; width: 256px; left: 612px; top: 150px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://c.tile.osm.org/13/4147/2818.png" style="height: 256px; width: 256px; left: 356px; top: 150px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://c.tile.osm.org/13/4148/2817.png" style="height: 256px; width: 256px; left: 612px; top: -106px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://b.tile.osm.org/13/4148/2819.png" style="height: 256px; width: 256px; left: 612px; top: 406px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://b.tile.osm.org/13/4147/2817.png" style="height: 256px; width: 256px; left: 356px; top: -106px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://a.tile.osm.org/13/4147/2819.png" style="height: 256px; width: 256px; left: 356px; top: 406px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://b.tile.osm.org/13/4146/2818.png" style="height: 256px; width: 256px; left: 100px; top: 150px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://b.tile.osm.org/13/4149/2818.png" style="height: 256px; width: 256px; left: 868px; top: 150px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://c.tile.osm.org/13/4149/2819.png" style="height: 256px; width: 256px; left: 868px; top: 406px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://a.tile.osm.org/13/4149/2817.png" style="height: 256px; width: 256px; left: 868px; top: -106px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://c.tile.osm.org/13/4146/2819.png" style="height: 256px; width: 256px; left: 100px; top: 406px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://a.tile.osm.org/13/4146/2817.png" style="height: 256px; width: 256px; left: 100px; top: -106px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://c.tile.osm.org/13/4150/2818.png" style="height: 256px; width: 256px; left: 1124px; top: 150px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://a.tile.osm.org/13/4145/2818.png" style="height: 256px; width: 256px; left: -156px; top: 150px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://b.tile.osm.org/13/4150/2817.png" style="height: 256px; width: 256px; left: 1124px; top: -106px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://b.tile.osm.org/13/4145/2819.png" style="height: 256px; width: 256px; left: -156px; top: 406px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://c.tile.osm.org/13/4145/2817.png" style="height: 256px; width: 256px; left: -156px; top: -106px;">
                        <img class="leaflet-tile leaflet-tile-loaded" src="http://a.tile.osm.org/13/4150/2819.png" style="height: 256px; width: 256px; left: 1124px; top: 406px;">
                    </div>
                </div>
            </div>
            <div class="leaflet-objects-pane">
                <div class="leaflet-shadow-pane">
                    <img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(987px, 250px, 0px);">
                    <img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(-13224px, -23879px, 0px);">
                </div>
                <div class="leaflet-overlay-pane"></div>
                <div class="leaflet-marker-pane">
                    <img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png" class="leaflet-marker-icon leaflet-zoom-animated leaflet-clickable" tabindex="0" style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(987px, 250px, 0px); z-index: 250;">
                    <img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png" class="leaflet-marker-icon leaflet-zoom-animated leaflet-clickable" tabindex="0" style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(-13224px, -23879px, 0px); z-index: -23879;">
                </div>
                <div class="leaflet-popup-pane"></div>
            </div>
        </div>
        <div class="leaflet-control-container">
            <div class="leaflet-top leaflet-left">
                <div class="leaflet-control-zoom leaflet-bar leaflet-control">
                    <a class="leaflet-control-zoom-in" href="#" title="Zoom in">+</a>
                    <a class="leaflet-control-zoom-out" href="#" title="Zoom out">-</a>
                </div>
            </div>
            <div class="leaflet-top leaflet-right"></div>
            <div class="leaflet-bottom leaflet-left"></div>
            <div class="leaflet-bottom leaflet-right">
                <div class="leaflet-control-attribution leaflet-control"><a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors
                </div>
            </div>
        </div>
    </div>
    <div class="border b1"></div>
    <div class="border b2"></div>
    <div class="border b3"></div>
    <div class="border b4"></div>
    <div class="explanation">
            <h1>Leaflet-active-area</h1>
            <h2>An active area ?</h2>
            <p>
                This plugin allows you to use a smaller portion of the map as an active area.
                All positionning methods (setView, fitBounds, setZoom) will be applyed on this portion instead of the all map.
            </p>
            <p>
                A typical use case is to set a map as background (like that example) and center it on the top of the screen for example.
            </p>
            <p>
                Try to center the map to <a href="#" class="london">London</a> or <a href="#" class="paris">Paris</a>, <a href="#" class="zoomin">zoom in</a> or <a href="#" class="zoomout">out</a> or <a href="#" class="fitbounds">fitbounds</a>.
                As you see, the center of the map is within the div with a green border and <strong>not</strong> the center of the screen.
            </p>
            <h2>Zone active ?</h2>
            <p>
                Ce plugin vous permet d’utiliser une petite porition de votre carte comme zone active.
                Les méthodes de positionnement (setView, fitBounds, setZoom) s’appliqueront à cette porition au lieu de toute la carte.
            </p>
            <p>
                Un exemple typique est d’afficher une carte sur la totalité de l’écran (comme sur cet exemple) mais de la centrer en haut de l’écran par exemple.
            </p>
            <p>
                Essayer de centrer la carte sur <a href="#" class="london">Londres</a> ou <a href="#" class="paris">Paris</a>, <a href="#" class="zoomin">zoomer</a> ou <a href="#" class="zoomout">dézoomer</a> ou encore <a href="#" class="fitbounds">fitbounds</a>.
                Comme vous pouvez le voir, la carte se centre à l’intérieur du div avec une bordure verte et <strong>non</strong> depuis le centre de l’écran.
            </p>
            <p>
                <a href="https://github.com/Mappy/Leaflet-active-area">https://github.com/Mappy/Leaflet-active-area</a>
            </p>
        </div>
    <script type="text/javascript">

            var Paris = [48.85346, 2.34956],
                London = [51.505, -0.09],
                popupOptions = {
                    autoPan: true,
                    keepInView: true
                };

            var map = new L.Map('map', { inertia: false }).setActiveArea('viewport').setView(Paris, 13);
            map.scrollWheelZoom.disable();

            var markers = L.featureGroup();
            L.marker(Paris).bindPopup(L.popup().setContent('<p>Paris (France)</p>'), popupOptions).addTo(markers);
            L.marker(London).bindPopup(L.popup().setContent('<p>London (UK)</p>'), popupOptions).addTo(markers);
            markers.addTo(map);

            L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            [].forEach.call(document.querySelectorAll('.london'), function(element) {
                element.addEventListener('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    map.setView(London, 13);
                }, false);
            });

            [].forEach.call(document.querySelectorAll('.paris'), function(element) {
                element.addEventListener('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    map.setView(Paris, 13);
                }, false);
            });

            [].forEach.call(document.querySelectorAll('.zoomin'), function(element) {
                element.addEventListener('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    map.setZoom(map.getZoom() < map.getMaxZoom() ? map.getZoom() + 1 : map.getMaxZoom());
                }, false);
            });

            [].forEach.call(document.querySelectorAll('.zoomout'), function(element) {
                element.addEventListener('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    map.setZoom(map.getZoom() > map.getMinZoom() ? map.getZoom() - 1 : map.getMinZoom());
                }, false);
            });

            [].forEach.call(document.querySelectorAll('.fitbounds'), function(element) {
                element.addEventListener('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    map.fitBounds(markers.getBounds(), {padding: [10, 10]});
                }, false);
            });

    </script>
</body>
</html>
